<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Wirepas Single-MCU SDK: api/sleep.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../small_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Wirepas Single-MCU SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d9/d81/sleep_8h.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">sleep.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d29/app_2app_8h_source.html">app/app.h</a>&quot;</code><br />
</div>
<p><a href="../../d9/d81/sleep_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d14/structapp__lib__sleep__t.html">app_lib_sleep_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:abd628831f264eacccded967c1495b89a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d81/sleep_8h.html#abd628831f264eacccded967c1495b89a">APP_LIB_LONGSLEEP_NAME</a>&#160;&#160;&#160;0x02f20818</td></tr>
<tr class="memdesc:abd628831f264eacccded967c1495b89a"><td class="mdescLeft">&#160;</td><td class="mdescRight">"SLEEP"  <a href="#abd628831f264eacccded967c1495b89a">More...</a><br /></td></tr>
<tr class="separator:abd628831f264eacccded967c1495b89a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9197873a67e15027c9e8794eae87ab2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d81/sleep_8h.html#af9197873a67e15027c9e8794eae87ab2">APP_LIB_LONGSLEEP_VERSION</a>&#160;&#160;&#160;0x201</td></tr>
<tr class="separator:af9197873a67e15027c9e8794eae87ab2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a20c81f97d3745398b7a26104d66caf10"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d2/d39/app_8h.html#a4d380466f2a9f6432a6abcabf44c8e80">app_res_e</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d81/sleep_8h.html#a20c81f97d3745398b7a26104d66caf10">app_lib_sleep_stack_for_time_f</a> )(uint32_t seconds, uint32_t appconf_wait_s)</td></tr>
<tr class="memdesc:a20c81f97d3745398b7a26104d66caf10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to stack sleep start.  <a href="#a20c81f97d3745398b7a26104d66caf10">More...</a><br /></td></tr>
<tr class="separator:a20c81f97d3745398b7a26104d66caf10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9174a1702b21f0d8d17871562d08080c"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d2/d39/app_8h.html#a4d380466f2a9f6432a6abcabf44c8e80">app_res_e</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d81/sleep_8h.html#a9174a1702b21f0d8d17871562d08080c">app_lib_sleep_allroles_for_time_f</a> )(uint32_t seconds, uint32_t appconf_wait_s)</td></tr>
<tr class="memdesc:a9174a1702b21f0d8d17871562d08080c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same functionality as in app_lib_sleep_stack_for_time_f without node role check. To be used only for testing purposes.  <a href="#a9174a1702b21f0d8d17871562d08080c">More...</a><br /></td></tr>
<tr class="separator:a9174a1702b21f0d8d17871562d08080c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69ceaa194bf7ab21801d8beaafcbde42"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d2/d39/app_8h.html#a4d380466f2a9f6432a6abcabf44c8e80">app_res_e</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d81/sleep_8h.html#a69ceaa194bf7ab21801d8beaafcbde42">app_lib_sleep_wakeup_stack_f</a> )(void)</td></tr>
<tr class="memdesc:a69ceaa194bf7ab21801d8beaafcbde42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to wakeup stack from sleep.  <a href="#a69ceaa194bf7ab21801d8beaafcbde42">More...</a><br /></td></tr>
<tr class="separator:a69ceaa194bf7ab21801d8beaafcbde42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba4d9628ca3af3b3501c47bc2b3d20bd"><td class="memItemLeft" align="right" valign="top">typedef <br class="typebreak" />
<a class="el" href="../../d9/d81/sleep_8h.html#a3dd4ee1781c33c2e0dceeab6becf3d00">app_lib_sleep_stack_state_e</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d81/sleep_8h.html#aba4d9628ca3af3b3501c47bc2b3d20bd">app_lib_sleep_get_sleep_state_f</a> )(void)</td></tr>
<tr class="memdesc:aba4d9628ca3af3b3501c47bc2b3d20bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns state of Wirepas Mesh stack sleep.  <a href="#aba4d9628ca3af3b3501c47bc2b3d20bd">More...</a><br /></td></tr>
<tr class="separator:aba4d9628ca3af3b3501c47bc2b3d20bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8c775bdb9ee5be91cf8ee632407a06a"><td class="memItemLeft" align="right" valign="top">typedef uint32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d81/sleep_8h.html#af8c775bdb9ee5be91cf8ee632407a06a">app_lib_sleep_get_wakeup_f</a> )(void)</td></tr>
<tr class="memdesc:af8c775bdb9ee5be91cf8ee632407a06a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns remining sleep time.  <a href="#af8c775bdb9ee5be91cf8ee632407a06a">More...</a><br /></td></tr>
<tr class="separator:af8c775bdb9ee5be91cf8ee632407a06a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a546bb4d2ce04dab5e8310c626606c160"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d81/sleep_8h.html#a546bb4d2ce04dab5e8310c626606c160">applib_wakeup_callback_f</a> )(void)</td></tr>
<tr class="memdesc:a546bb4d2ce04dab5e8310c626606c160"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for callback.  <a href="#a546bb4d2ce04dab5e8310c626606c160">More...</a><br /></td></tr>
<tr class="separator:a546bb4d2ce04dab5e8310c626606c160"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9df721059c150d9741490b56955d1bb7"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d81/sleep_8h.html#a9df721059c150d9741490b56955d1bb7">app_lib_sleep_wakeup_callback_f</a> )(<a class="el" href="../../d9/d81/sleep_8h.html#a546bb4d2ce04dab5e8310c626606c160">applib_wakeup_callback_f</a> callback)</td></tr>
<tr class="memdesc:a9df721059c150d9741490b56955d1bb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to set callback function which to be called before stack wakeup.  <a href="#a9df721059c150d9741490b56955d1bb7">More...</a><br /></td></tr>
<tr class="separator:a9df721059c150d9741490b56955d1bb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fddf5068bc5c9623ed4c9726d253d79"><td class="memItemLeft" align="right" valign="top">typedef uint32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d81/sleep_8h.html#a0fddf5068bc5c9623ed4c9726d253d79">app_lib_sleep_get_gotosleep</a> )(void)</td></tr>
<tr class="memdesc:a0fddf5068bc5c9623ed4c9726d253d79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns latest time what used before Wirepas Mesh enters to sleep after NRLS sleep request given.  <a href="#a0fddf5068bc5c9623ed4c9726d253d79">More...</a><br /></td></tr>
<tr class="separator:a0fddf5068bc5c9623ed4c9726d253d79"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a3dd4ee1781c33c2e0dceeab6becf3d00"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d81/sleep_8h.html#a3dd4ee1781c33c2e0dceeab6becf3d00">app_lib_sleep_stack_state_e</a> { <a class="el" href="../../d9/d81/sleep_8h.html#a3dd4ee1781c33c2e0dceeab6becf3d00a388cc689f1f108470e04b9b2e0910cec">APP_LIB_SLEEP_STOPPED</a> = 0, 
<a class="el" href="../../d9/d81/sleep_8h.html#a3dd4ee1781c33c2e0dceeab6becf3d00af38e9ec1d42fe61c56df03c7ed232fe7">APP_LIB_SLEEP_STARTED</a>
 }</td></tr>
<tr class="memdesc:a3dd4ee1781c33c2e0dceeab6becf3d00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stack state flags.  <a href="../../d9/d81/sleep_8h.html#a3dd4ee1781c33c2e0dceeab6becf3d00">More...</a><br /></td></tr>
<tr class="separator:a3dd4ee1781c33c2e0dceeab6becf3d00"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The Non-Router Long Sleep (NRLS) Library is used to sleep Wirepas Mesh stack for time periods. Once waking-up from the sleep, Wirepas Mesh stack wakes up from the sleep without system reset. During Wirepas Mesh stack sleep, Single-MCU application can be running using the libraries which does not have dependency to Wirepas Mesh stack functionalities. Before entering to NRLS sleep, Wirepas Mesh stack needs to be running.</p>
<p>Non-Router Long Sleep libraries can be used with Wirepas Mesh stack which is configured to be running as Non-Router mode without any role extensions (<a class="el" href="../../de/d60/settings_8h.html#ab42b1333ea2649dfc695dfc0423f1184ace714830b904d2899fdee5682a44358b">APP_LIB_SETTINGS_ROLE_SUBNODE</a> in <a class="el" href="../../de/d60/settings_8h.html#ab42b1333ea2649dfc695dfc0423f1184">app_lib_settings_base_role_e</a> and <a class="el" href="../../de/d60/settings_8h.html#ad60f684ddb64fff64bd9443bec7d6575a443161fb254ef9e191247b837295e12a">APP_LIB_SETTINGS_ROLE_FLAG_RESV</a> in <a class="el" href="../../de/d60/settings_8h.html#ad60f684ddb64fff64bd9443bec7d6575">app_lib_settings_flag_role_e</a>). Any other <a class="el" href="../../de/d60/settings_8h.html#ab42b1333ea2649dfc695dfc0423f1184">app_lib_settings_base_role_e</a> and <a class="el" href="../../de/d60/settings_8h.html#ad60f684ddb64fff64bd9443bec7d6575">app_lib_settings_flag_role_e</a> definitions do not allow to use NRLS functionality. </p>

<p>Definition in file <a class="el" href="../../d9/d81/sleep_8h_source.html">sleep.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="abd628831f264eacccded967c1495b89a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APP_LIB_LONGSLEEP_NAME&#160;&#160;&#160;0x02f20818</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>"SLEEP" </p>
<p>This is the library name for use with <a class="el" href="../../d6/d81/structapp__global__functions__t.html#ac5c0d81e5cdf8c6c0f2134d56d669ccc">app_global_functions_t::openLibrary</a> </p>

<p>Definition at line <a class="el" href="../../d9/d81/sleep_8h_source.html#l00038">38</a> of file <a class="el" href="../../d9/d81/sleep_8h_source.html">sleep.h</a>.</p>

</div>
</div>
<a class="anchor" id="af9197873a67e15027c9e8794eae87ab2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APP_LIB_LONGSLEEP_VERSION&#160;&#160;&#160;0x201</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the library version for use with <a class="el" href="../../d6/d81/structapp__global__functions__t.html#ac5c0d81e5cdf8c6c0f2134d56d669ccc">app_global_functions_t::openLibrary</a></p>

<p>Definition at line <a class="el" href="../../d9/d81/sleep_8h_source.html#l00043">43</a> of file <a class="el" href="../../d9/d81/sleep_8h_source.html">sleep.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a9174a1702b21f0d8d17871562d08080c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d2/d39/app_8h.html#a4d380466f2a9f6432a6abcabf44c8e80">app_res_e</a>(* app_lib_sleep_allroles_for_time_f)(uint32_t seconds, uint32_t appconf_wait_s)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Same functionality as in app_lib_sleep_stack_for_time_f without node role check. To be used only for testing purposes. </p>

<p>Definition at line <a class="el" href="../../d9/d81/sleep_8h_source.html#l00091">91</a> of file <a class="el" href="../../d9/d81/sleep_8h_source.html">sleep.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0fddf5068bc5c9623ed4c9726d253d79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t(* app_lib_sleep_get_gotosleep)(void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns latest time what used before Wirepas Mesh enters to sleep after NRLS sleep request given. </p>
<p>Returns time in seconds which was used in previous NRLS sleep request starting from application request <a class="el" href="../../d9/d81/sleep_8h.html#a20c81f97d3745398b7a26104d66caf10">lib_sleep-&gt;sleepStackforTime</a> until stack enters to NRLS sleep. This value can be used to estimate needed parameter configuration for appconf_wait_s in <a class="el" href="../../d9/d81/sleep_8h.html#a20c81f97d3745398b7a26104d66caf10">lib_sleep-&gt;sleepStackforTime</a> function. </p><dl class="section return"><dt>Returns</dt><dd>Total time used including application callbacks during that period. seconds </dd></dl>

<p>Definition at line <a class="el" href="../../d9/d81/sleep_8h_source.html#l00157">157</a> of file <a class="el" href="../../d9/d81/sleep_8h_source.html">sleep.h</a>.</p>

</div>
</div>
<a class="anchor" id="aba4d9628ca3af3b3501c47bc2b3d20bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d9/d81/sleep_8h.html#a3dd4ee1781c33c2e0dceeab6becf3d00">app_lib_sleep_stack_state_e</a>(* app_lib_sleep_get_sleep_state_f)(void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns state of Wirepas Mesh stack sleep. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d9/d81/sleep_8h.html#a3dd4ee1781c33c2e0dceeab6becf3d00a388cc689f1f108470e04b9b2e0910cec">APP_LIB_SLEEP_STOPPED</a> is returned until actual NRLS sleep is started. This is happening when network disconnection ongoing before NRLS sleep is started. Signaling before actual stack sleep start might take time up to 30 seconds or more depending of used radio. </dd></dl>

<p>Definition at line <a class="el" href="../../d9/d81/sleep_8h_source.html#l00114">114</a> of file <a class="el" href="../../d9/d81/sleep_8h_source.html">sleep.h</a>.</p>

</div>
</div>
<a class="anchor" id="af8c775bdb9ee5be91cf8ee632407a06a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t(* app_lib_sleep_get_wakeup_f)(void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns remining sleep time. </p>
<p>Returns remaining Wirepas Mesh stack NRLS sleep time in seconds. Time period is updated every 3 second. The NRLS sleep time is not decreased while the network disconnection ongoing, once network disconnection is completed, the NRLS sleep time count down is started. </p><dl class="section return"><dt>Returns</dt><dd>Remaining sleep time in seconds </dd></dl>

<p>Definition at line <a class="el" href="../../d9/d81/sleep_8h_source.html#l00125">125</a> of file <a class="el" href="../../d9/d81/sleep_8h_source.html">sleep.h</a>.</p>

</div>
</div>
<a class="anchor" id="a20c81f97d3745398b7a26104d66caf10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d2/d39/app_8h.html#a4d380466f2a9f6432a6abcabf44c8e80">app_res_e</a>(* app_lib_sleep_stack_for_time_f)(uint32_t seconds, uint32_t appconf_wait_s)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to stack sleep start. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">seconds</td><td>Wirepas Mesh stack sleep time in seconds. Sleep time starts when the node gets disconnected from Mesh network. To disconnect from the network, some time is needed for signaling before disconnection is completed (the sleep time does not include this time needed for signaling before going to sleep). Signaling before actual stack sleep start might take time up to 30 seconds or more depending of used radio. If set to 0 stack sleep is started for maximum period of 0x93A80 seconds (7 days). </td></tr>
    <tr><td class="paramname">appconf_wait_s</td><td>Wait time in seconds for app config data from network before NRLS stack sleep. 0 = App conf is not awaited before going to sleep. Other values = Time used to wait that app config data is received from network. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d2/d39/app_8h.html#a4d380466f2a9f6432a6abcabf44c8e80a2e0fd18ec0f8ae18c72ebdf838235cb3">APP_RES_INVALID_CONFIGURATION</a> if node role is not correctly configured. Returns <a class="el" href="../../d2/d39/app_8h.html#a4d380466f2a9f6432a6abcabf44c8e80a3003711bc2e65045853433dacc324767">APP_RES_INVALID_VALUE</a> if sleep time exceeds the maximum value. Returns <a class="el" href="../../d2/d39/app_8h.html#a4d380466f2a9f6432a6abcabf44c8e80acf4d6254abe9760ec1ad9403b4af6cdc">APP_RES_INVALID_STACK_STATE</a> is stack is not started and node role and seconds is correct. Returns <a class="el" href="../../d2/d39/app_8h.html#a4d380466f2a9f6432a6abcabf44c8e80a003dcdf43ec0474fb1190cdccd959122">APP_RES_OK</a> when stack sleep is started. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>If the time when waking up from NRLS sleep and going back to NRLS sleep is very short and app config is used to signal to the network e.g. overhaul state, good practice is to have <code>appconf_wait_s</code> long enough (minimum 4 seconds) to make sure that app config data is received before going to NRLS sleep </dd></dl>

<p>Definition at line <a class="el" href="../../d9/d81/sleep_8h_source.html#l00083">83</a> of file <a class="el" href="../../d9/d81/sleep_8h_source.html">sleep.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9df721059c150d9741490b56955d1bb7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* app_lib_sleep_wakeup_callback_f)(<a class="el" href="../../d9/d81/sleep_8h.html#a546bb4d2ce04dab5e8310c626606c160">applib_wakeup_callback_f</a> callback)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to set callback function which to be called before stack wakeup. </p>
<p>Function to set callback function which to be called before stack wakeup from sleep. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>Callback function </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d9/d81/sleep_8h_source.html#l00143">143</a> of file <a class="el" href="../../d9/d81/sleep_8h_source.html">sleep.h</a>.</p>

</div>
</div>
<a class="anchor" id="a69ceaa194bf7ab21801d8beaafcbde42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d2/d39/app_8h.html#a4d380466f2a9f6432a6abcabf44c8e80">app_res_e</a>(* app_lib_sleep_wakeup_stack_f)(void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to wakeup stack from sleep. </p>
<p>Starts the Wirepas Mesh stack wakeup from sleep if application wants to wake-up the Wirepas Mesh stack from NRLS sleep before NRLS sleep time has elapsed.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d2/d39/app_8h.html#a4d380466f2a9f6432a6abcabf44c8e80a003dcdf43ec0474fb1190cdccd959122">APP_RES_OK</a> when stack wakeup is started from sleep. Returns <a class="el" href="../../d2/d39/app_8h.html#a4d380466f2a9f6432a6abcabf44c8e80acf4d6254abe9760ec1ad9403b4af6cdc">APP_RES_INVALID_STACK_STATE</a> if wakeup called when stack is running. </dd></dl>

<p>Definition at line <a class="el" href="../../d9/d81/sleep_8h_source.html#l00105">105</a> of file <a class="el" href="../../d9/d81/sleep_8h_source.html">sleep.h</a>.</p>

</div>
</div>
<a class="anchor" id="a546bb4d2ce04dab5e8310c626606c160"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* applib_wakeup_callback_f)(void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for callback. </p>

<p>Definition at line <a class="el" href="../../d9/d81/sleep_8h_source.html#l00131">131</a> of file <a class="el" href="../../d9/d81/sleep_8h_source.html">sleep.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a3dd4ee1781c33c2e0dceeab6becf3d00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d9/d81/sleep_8h.html#a3dd4ee1781c33c2e0dceeab6becf3d00">app_lib_sleep_stack_state_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stack state flags. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a3dd4ee1781c33c2e0dceeab6becf3d00a388cc689f1f108470e04b9b2e0910cec"></a>APP_LIB_SLEEP_STOPPED&#160;</td><td class="fielddoc">
<p>Sleep is stopped. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a3dd4ee1781c33c2e0dceeab6becf3d00af38e9ec1d42fe61c56df03c7ed232fe7"></a>APP_LIB_SLEEP_STARTED&#160;</td><td class="fielddoc">
<p>Sleep is started. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="../../d9/d81/sleep_8h_source.html#l00048">48</a> of file <a class="el" href="../../d9/d81/sleep_8h_source.html">sleep.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;{</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="../../d9/d81/sleep_8h.html#a3dd4ee1781c33c2e0dceeab6becf3d00a388cc689f1f108470e04b9b2e0910cec">APP_LIB_SLEEP_STOPPED</a> = 0,                  </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="../../d9/d81/sleep_8h.html#a3dd4ee1781c33c2e0dceeab6becf3d00af38e9ec1d42fe61c56df03c7ed232fe7">APP_LIB_SLEEP_STARTED</a>                       </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;} <a class="code" href="../../d9/d81/sleep_8h.html#a3dd4ee1781c33c2e0dceeab6becf3d00">app_lib_sleep_stack_state_e</a>;</div>
<div class="ttc" id="sleep_8h_html_a3dd4ee1781c33c2e0dceeab6becf3d00af38e9ec1d42fe61c56df03c7ed232fe7"><div class="ttname"><a href="../../d9/d81/sleep_8h.html#a3dd4ee1781c33c2e0dceeab6becf3d00af38e9ec1d42fe61c56df03c7ed232fe7">APP_LIB_SLEEP_STARTED</a></div><div class="ttdoc">Sleep is started. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d81/sleep_8h_source.html#l00051">sleep.h:51</a></div></div>
<div class="ttc" id="sleep_8h_html_a3dd4ee1781c33c2e0dceeab6becf3d00"><div class="ttname"><a href="../../d9/d81/sleep_8h.html#a3dd4ee1781c33c2e0dceeab6becf3d00">app_lib_sleep_stack_state_e</a></div><div class="ttdeci">app_lib_sleep_stack_state_e</div><div class="ttdoc">Stack state flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d81/sleep_8h_source.html#l00048">sleep.h:48</a></div></div>
<div class="ttc" id="sleep_8h_html_a3dd4ee1781c33c2e0dceeab6becf3d00a388cc689f1f108470e04b9b2e0910cec"><div class="ttname"><a href="../../d9/d81/sleep_8h.html#a3dd4ee1781c33c2e0dceeab6becf3d00a388cc689f1f108470e04b9b2e0910cec">APP_LIB_SLEEP_STOPPED</a></div><div class="ttdoc">Sleep is stopped. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d81/sleep_8h_source.html#l00050">sleep.h:50</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_0188a3e6da905bc60aceb35bf790b8c9.html">api</a></li><li class="navelem"><a class="el" href="../../d9/d81/sleep_8h.html">sleep.h</a></li>
    <li class="footer">Generated on Wed May 8 2019 17:56:31 for Wirepas Single-MCU SDK by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
